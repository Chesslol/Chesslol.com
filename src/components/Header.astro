---
import ThemeToggle from './ThemeToggle.astro';
import { siteConfig } from '../config/site';

const navLinks = [
  { href: '/', label: 'Home' },
  { href: '/links', label: 'Links' }
];

const currentPath = Astro.url.pathname;
---
<header class="backdrop-blur supports-[backdrop-filter]:bg-white/70 sticky top-0 z-50 border-b border-slate-200 bg-white/90 dark:border-slate-800 dark:bg-slate-950/90">
  <div class="mx-auto flex w-full max-w-6xl flex-wrap items-center justify-between gap-4 px-4 py-4 sm:h-16 sm:flex-nowrap sm:gap-8 sm:px-6 sm:py-0">
    <a href="/" class="flex items-center gap-2 text-lg font-semibold tracking-tight text-slate-900 hover:text-primary dark:text-slate-100">
      <span class="inline-flex h-9 w-9 items-center justify-center rounded-full bg-primary text-sm font-bold text-primary-foreground shadow-glow">CL</span>
      <span class="text-lg">{siteConfig.name}</span>
    </a>
    <nav aria-label="Main navigation" class="order-3 flex w-full items-center justify-center gap-6 text-sm font-medium text-slate-600 sm:order-none sm:w-auto sm:justify-start dark:text-slate-300">
      {navLinks.map((item) => {
        const isActive = item.href === '/' ? currentPath === item.href : currentPath.startsWith(item.href);
        return (
          <a
            href={item.href}
            class={`relative transition hover:text-primary ${isActive ? 'text-primary' : ''}`}
            aria-current={isActive ? 'page' : undefined}
          >
            {item.label}
            {isActive && (
              <span class="absolute inset-x-0 -bottom-2 h-0.5 rounded-full bg-primary"></span>
            )}
          </a>
        );
      })}
    </nav>
    <div class="order-2 ml-auto flex items-center gap-3 sm:order-none sm:ml-0">
      <ThemeToggle />
    </div>
  </div>
</header>
